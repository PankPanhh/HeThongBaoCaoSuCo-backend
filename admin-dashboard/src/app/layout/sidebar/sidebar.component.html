<aside
  class="sidebar"
  [class.collapsed]="isCollapsed"
>
  <!-- Logo / Brand -->
  <div class="sidebar-header">
    <div class="logo">
      <img src="/assets/logo.png" alt="Logo" class="logo-icon">
      <span class="logo-text" *ngIf="!isCollapsed">Hệ Thống Báo Cáo Sự Cố</span>
    </div>
  </div>

  <!-- Navigation Menu -->
  <nav class="sidebar-nav">
    <ul class="nav-list">
      <li *ngFor="let item of menuItems" class="nav-item">
        <!-- Menu Item without children -->
        <a
          *ngIf="!item.children"
          [routerLink]="item.route"
          class="nav-link"
          [class.active]="isActiveRoute(item.route)"
        >
          <span class="material-icons nav-icon">{{ item.icon }}</span>
          <span class="nav-label" *ngIf="!isCollapsed">{{ item.label }}</span>
        </a>

        <!-- Menu Item with children -->
        <div *ngIf="item.children" class="nav-group">
          <button
            class="nav-link nav-toggle"
            [class.active]="isParentActive(item)"
            [class.expanded]="item.expanded"
            (click)="toggleMenuItem(item)"
          >
            <span class="material-icons nav-icon">{{ item.icon }}</span>
            <span class="nav-label" *ngIf="!isCollapsed">{{ item.label }}</span>
            <span class="material-icons expand-icon" *ngIf="!isCollapsed">
              {{ item.expanded ? 'expand_less' : 'expand_more' }}
            </span>
          </button>

          <!-- Submenu -->
          <ul class="submenu" *ngIf="item.expanded && !isCollapsed">
            <li *ngFor="let child of item.children" class="submenu-item">
              <a
                [routerLink]="child.route"
                class="submenu-link"
                [class.active]="isActiveRoute(child.route)"
              >
                <span class="material-icons submenu-icon">{{ child.icon }}</span>
                <span class="submenu-label">{{ child.label }}</span>
              </a>
            </li>
          </ul>
        </div>
      </li>
    </ul>
  </nav>

  <!-- Sidebar Footer / User Info -->
  <div class="sidebar-footer">
    <div class="user-info">
      <div class="user-avatar">
        <span class="material-icons">account_circle</span>
      </div>
      <div class="user-details" *ngIf="!isCollapsed">
        <div class="user-name">Admin User</div>
        <div class="user-role">Administrator</div>
      </div>
    </div>
  </div>

  <!-- Toggle Button -->
  <button class="toggle-btn" (click)="toggleSidebar()" title="Toggle Sidebar">
    <span class="material-icons">
      {{ isCollapsed ? 'chevron_right' : 'chevron_left' }}
    </span>
  </button>
</aside>
